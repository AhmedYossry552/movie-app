 <div class="container mx-auto px-4 py-8">
      <h1 class="text-3xl font-bold mb-8">My Wishlist</h1>
      
      @if (!isAuthenticated()) {
        <div class="card bg-base-100 shadow-xl max-w-2xl mx-auto text-center p-8">
          <div class="flex justify-center mb-6">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
            </svg>
          </div>
          <h2 class="text-2xl font-bold mb-4">Authentication Required</h2>
          <p class="text-gray-600 mb-6">Please log in to view your wishlist. Your saved movies will be waiting for you!</p>
          <div class="flex justify-center gap-4">
            <a [routerLink]="['/auth/login']" [queryParams]="{returnUrl: '/wishlist'}" class="btn btn-primary">
              Login
            </a>
            <a [routerLink]="['/auth/register']" [queryParams]="{returnUrl: '/wishlist'}" class="btn btn-outline">
              Create Account
            </a>
          </div>
        </div>
      } @else if (wishlist().length === 0) {
        <div class="card bg-base-100 shadow-xl max-w-2xl mx-auto text-center p-8">
          <div class="flex justify-center mb-6">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </div>
          <h2 class="text-2xl font-bold mb-2">Your wishlist is empty</h2>
          <p class="text-gray-600 mb-6">Start adding your favorite movies to your wishlist!</p>
          <a routerLink="/movies" class="btn btn-primary">
            Browse Movies
          </a>
        </div>
      } @else {
        <div class="mb-6 flex justify-between items-center">
          <p class="text-gray-600">{{ wishlist().length }} movie{{ wishlist().length !== 1 ? 's' : '' }} in your wishlist</p>
          <button (click)="clearWishlist()" class="btn btn-outline btn-error btn-sm">
            Clear All
          </button>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
          @for (movie of wishlist(); track movie.id) {
            <app-movie-card [movie]="movie" (wishlistToggle)="onWishlistToggle($event)"></app-movie-card>
          }
        </div>
      }
    </div>